# 역할별 시뮬레이션 검증 문서

**프로젝트명**: 인플루언서 맞춤형 공동 여행 플랫폼
**문서 버전**: 1.0
**작성일**: 2025-01-18

---

> **관련 문서**
> - [전체 사이트 구조](./PROJECT_STRUCTURE.md)
> - [DB 현황](./DB_STATUS.md)
> - [화면 명세서](./SCREEN_SPECIFICATIONS.md)
> - [API 명세서](./API_SPECIFICATION.md)

---

## 개요

각 사용자 역할(유저, 인플루언서, 관리자)별로 3회의 가상 시뮬레이션을 진행하여 서비스 이용 전 과정에서 필요한 모든 기능, 화면, DB, API가 누락되지 않았는지 검증합니다.

---

## 1. 일반 유저 시뮬레이션

### 시뮬레이션 1: 신규 유저의 코스 신청 ~ 여행 완료 전체 플로우

#### 1.1 회원가입 및 초기 설정

| 단계 | 사용자 행동 | 필요 화면 | 필요 기능/API | 필요 DB | 확인 |
|------|-------------|-----------|---------------|---------|------|
| 1 | 앱 첫 실행 | 스플래시/온보딩 화면 | - | - | O |
| 2 | 서비스 소개 확인 | 온보딩 슬라이드 (3-4장) | - | - | O |
| 3 | 카카오 로그인 클릭 | 로그인 화면 | 카카오 OAuth | auth.users | O |
| 4 | 이용약관 동의 | 약관 동의 화면 | 약관 조회/동의 API | profiles (동의 기록) | O |
| 5 | 본인인증 진행 | 본인인증 화면 | KG이니시스/PASS API | profiles.phone_verified | O |
| 6 | 프로필 기본 정보 입력 | 프로필 설정 화면 | 프로필 저장 API | profiles | O |
| 7 | 알림 설정 | 알림 설정 팝업 | 푸시 권한 요청 | notification_settings | O |
| 8 | 메인 화면 진입 | 홈/메인 화면 | - | - | O |

**추가 필요 화면 발견**:
- 온보딩 슬라이드 화면
- 이용약관 상세 보기 화면
- 개인정보처리방침 화면
- 본인인증 진행 중 로딩 화면
- 본인인증 실패 안내 팝업
- 프로필 설정 완료 확인 팝업

#### 1.2 코스 탐색 및 신청

| 단계 | 사용자 행동 | 필요 화면 | 필요 기능/API | 필요 DB | 확인 |
|------|-------------|-----------|---------------|---------|------|
| 9 | 코스 링크 클릭 (SNS에서) | 코스 상세 페이지 | 코스 상세 조회 | courses, course_days | O |
| 10 | 일정 상세 확인 | 일자별 일정 탭/섹션 | - | course_day_items | O |
| 11 | 포함/불포함 사항 확인 | 포함사항 섹션 | - | included_items, excluded_items | O |
| 12 | 숙소 정보 확인 | 숙소 정보 섹션 | - | accommodation | O |
| 13 | 구글맵 링크 클릭 | 외부 앱 이동 | 딥링크 처리 | - | O |
| 14 | 인플루언서 프로필 클릭 | 인플루언서 프로필 화면 | 인플루언서 조회 | influencer_profiles | O |
| 15 | [신청하기] 클릭 | 신청 폼 화면 | - | - | O |
| 16 | 신청 정보 입력 | 신청 폼 | 입력 유효성 검사 | - | O |
| 17 | 결제 진행 | 결제 화면 (네이버페이) | PG 결제 API | payments | O |
| 18 | 결제 완료 확인 | 결제 완료 화면 | 결제 상태 업데이트 | course_applications | O |
| 19 | 신청 완료 확인 | 신청 완료 안내 팝업 | 알림 발송 | notifications | O |

**추가 필요 화면 발견**:
- 코스 상세 - 이미지 갤러리 (스와이프)
- 코스 상세 - 참가 조건 안내 팝업
- 코스 상세 - 환불 정책 안내 팝업
- 신청 폼 - 이미 신청한 경우 안내 팝업
- 신청 폼 - 모집 마감 안내 팝업
- 신청 폼 - 참가 조건 미충족 안내 팝업 (나이/성별)
- 결제 실패 안내 팝업
- 결제 취소 확인 팝업

#### 1.3 선정 대기 및 결과 확인

| 단계 | 사용자 행동 | 필요 화면 | 필요 기능/API | 필요 DB | 확인 |
|------|-------------|-----------|---------------|---------|------|
| 20 | 신청 리스트에서 상태 확인 | 내 신청 목록 화면 | 내 신청 조회 | course_applications | O |
| 21 | 선정 알림 수신 | 푸시 알림 | FCM 푸시 | notifications | O |
| 22 | 선정 결과 확인 (선정됨) | 선정 결과 화면/팝업 | - | - | O |
| 23 | 참가 확정 안내 확인 | 참가 확정 안내 화면 | - | - | O |

**미선정 시 추가 플로우**:
| 단계 | 사용자 행동 | 필요 화면 | 필요 기능/API | 필요 DB | 확인 |
|------|-------------|-----------|---------------|---------|------|
| 20-1 | 미선정 알림 수신 | 푸시 알림 | FCM 푸시 | notifications | O |
| 20-2 | 미선정 결과 확인 | 미선정 안내 화면 | - | - | O |
| 20-3 | 환불 진행 안내 | 환불 안내 화면 | 자동 환불 API | payments.refund | O |
| 20-4 | 환불 완료 확인 | 환불 완료 알림/화면 | - | - | O |

**추가 필요 화면 발견**:
- 선정 결과 대기 중 상태 표시
- 미선정 사유 안내 (선택적)
- 환불 예정 금액/일정 안내
- 환불 처리 중 상태 표시
- 환불 완료 영수증 화면

#### 1.4 여행 진행

| 단계 | 사용자 행동 | 필요 화면 | 필요 기능/API | 필요 DB | 확인 |
|------|-------------|-----------|---------------|---------|------|
| 24 | 진행 중 여행 탭 진입 | 진행 중 여행 목록 | 참가 코스 조회 | course_applications | O |
| 25 | 해당 코스 선택 | 진행 중 여행 상세 | - | - | O |
| 26 | 공지사항 확인 | 공지사항 탭 | 공지 조회 | course_announcements | O |
| 27 | 공지에 댓글 작성 | 댓글 입력 UI | 댓글 작성 API | announcement_comments | O |
| 28 | 경비 충전 요청 알림 수신 | 푸시 알림 | - | notifications | O |
| 29 | 경비 충전 화면 진입 | 경비 충전 화면 | - | - | O |
| 30 | 충전 금액 확인 및 결제 | 결제 화면 | PG 결제 API | payments, expense_transactions | O |
| 31 | 경비 잔액 확인 | 경비 현황 화면 | 잔액 조회 | course_participants_expenses | O |
| 32 | N빵 정산 알림 수신 | 푸시 알림 | - | notifications | O |
| 33 | N빵 차감 내역 확인 | N빵 내역 화면 | N빵 내역 조회 | course_nbang_items, expense_transactions | O |
| 34 | 인플루언서에게 1:1 메시지 | 메시지 화면 | 메시지 전송 | direct_messages | O |
| 35 | 참가자 목록 확인 | 참가자 목록 화면 | 참가자 조회 | course_applications | O |

**추가 필요 화면 발견**:
- 공지사항 새글 알림 배지
- 댓글 작성 완료 토스트
- 경비 충전 금액 부족 안내 팝업
- 경비 추가 충전 화면
- N빵 참여 거절 (경비 부족 시) 안내
- 메시지 작성 화면
- 메시지 목록 화면
- 참가자 프로필 상세 보기 (제한적)
- 일정 오늘 하이라이트

#### 1.5 여행 종료 및 후기

| 단계 | 사용자 행동 | 필요 화면 | 필요 기능/API | 필요 DB | 확인 |
|------|-------------|-----------|---------------|---------|------|
| 36 | 여행 종료 알림 | 푸시 알림 | - | notifications | O |
| 37 | 종료된 여행 탭 진입 | 종료된 여행 목록 | 종료 코스 조회 | courses | O |
| 38 | 후기 작성 클릭 | 후기 작성 화면 | - | - | O |
| 39 | 별점 선택 | 별점 UI | - | - | O |
| 40 | 텍스트 후기 작성 | 텍스트 입력 | - | - | O |
| 41 | 사진 첨부 (선택) | 이미지 업로더 | Storage 업로드 | - | O |
| 42 | 후기 등록 | 후기 등록 API | 후기 저장 | reviews | O |
| 43 | 남은 경비 환불 요청 | 잔액 환불 버튼 | 경비 환불 API | expense_transactions | O |
| 44 | 환불 완료 확인 | 환불 완료 안내 | - | payments | O |
| 45 | 여행 기록 작성 | 여행 기록 작성 화면 | - | - | O |
| 46 | 여행 기록 공개 설정 | 공개 범위 선택 | - | travel_records.visibility | O |
| 47 | 여행 기록 게시 | 기록 저장 API | 기록 저장 | travel_records | O |

**추가 필요 화면 발견**:
- 후기 작성 가이드라인 안내
- 후기 수정/삭제 확인 팝업
- 이미지 업로드 진행률 표시
- 여행 기록 미리보기
- 여행 기록 공개 설정 안내
- 경비 정산 상세 내역 (사용 내역 + 잔액)

---

### 시뮬레이션 2: 기존 유저의 파티 참가 플로우

#### 2.1 파티 탐색 및 신청

| 단계 | 사용자 행동 | 필요 화면 | 필요 기능/API | 필요 DB | 확인 |
|------|-------------|-----------|---------------|---------|------|
| 1 | 앱 실행 및 로그인 | 로그인 화면 | 토큰 갱신 | - | O |
| 2 | 메인 - 파티 섹션 확인 | 파티 탭/섹션 | 파티 목록 조회 | parties | O |
| 3 | 지역 필터 선택 | 필터 UI | - | - | O |
| 4 | 날짜 필터 선택 | 날짜 선택 UI | - | - | O |
| 5 | 파티 목록 조회 | 파티 목록 화면 | 파티 검색 API | parties | O |
| 6 | 파티 상세 진입 | 파티 상세 화면 | 파티 상세 조회 | parties | O |
| 7 | 인플루언서 정보 확인 | 인플루언서 프로필 | - | influencer_profiles | O |
| 8 | [신청하기] 클릭 | 파티 신청 폼 | - | - | O |
| 9 | 신청 정보 입력 | 신청 폼 | 입력 검증 | - | O |
| 10 | 결제 진행 | 결제 화면 | PG API | payments | O |
| 11 | 신청 완료 | 신청 완료 화면 | - | party_applications | O |

**추가 필요 화면 발견**:
- 파티 목록 - 빈 상태 (해당 조건 파티 없음)
- 파티 필터 초기화 버튼
- 파티 상세 - 장소 지도 (지도 임베드 또는 링크)
- 파티 상세 - 시간 안내 (시작/종료)
- 파티 모집 마감 카운트다운
- 파티 정원 마감 안내 팝업

#### 2.2 파티 당일 및 종료

| 단계 | 사용자 행동 | 필요 화면 | 필요 기능/API | 필요 DB | 확인 |
|------|-------------|-----------|---------------|---------|------|
| 12 | 선정 결과 확인 | 선정 결과 알림 | - | party_applications | O |
| 13 | 파티 장소 확인 | 파티 상세 화면 | - | - | O |
| 14 | 파티 종료 후 후기 작성 | 파티 후기 작성 | 후기 저장 | reviews | O |

**추가 필요 화면 발견**:
- 파티 D-Day 리마인더 알림
- 파티 체크인 기능 (선택적)

---

### 시뮬레이션 3: 마이페이지 및 설정 관리 플로우

| 단계 | 사용자 행동 | 필요 화면 | 필요 기능/API | 필요 DB | 확인 |
|------|-------------|-----------|---------------|---------|------|
| 1 | 마이페이지 진입 | 마이페이지 화면 | 프로필 조회 | profiles | O |
| 2 | 프로필 수정 | 프로필 수정 화면 | 프로필 업데이트 | profiles | O |
| 3 | 프로필 이미지 변경 | 이미지 업로더 | Storage 업로드 | - | O |
| 4 | 인스타그램 링크 수정 | 링크 입력 필드 | URL 유효성 검증 | profiles.instagram_url | O |
| 5 | 결제 내역 조회 | 결제 내역 화면 | 결제 내역 조회 | payments | O |
| 6 | 결제 상세 확인 | 결제 상세 화면 | - | - | O |
| 7 | 환불 내역 확인 | 환불 탭/필터 | 환불 내역 조회 | payments | O |
| 8 | 알림 설정 변경 | 알림 설정 화면 | 설정 업데이트 | notification_settings | O |
| 9 | 푸시 알림 On/Off | 토글 UI | - | - | O |
| 10 | 이메일 알림 On/Off | 토글 UI | - | - | O |
| 11 | SMS 알림 On/Off | 토글 UI | - | - | O |
| 12 | 공지사항 확인 | 공지사항 목록 | 공지 조회 | (admin_notices) | O |
| 13 | 고객센터 진입 | 고객센터 화면 | - | - | O |
| 14 | FAQ 확인 | FAQ 목록/상세 | FAQ 조회 | (faqs) | O |
| 15 | 1:1 문의하기 | 문의 작성 화면 | 문의 등록 | (inquiries) | O |
| 16 | 이용약관 확인 | 이용약관 화면 | - | - | O |
| 17 | 개인정보처리방침 확인 | 개인정보처리방침 화면 | - | - | O |
| 18 | 로그아웃 | 로그아웃 확인 팝업 | 세션 삭제 | - | O |
| 19 | 회원탈퇴 | 회원탈퇴 화면 | 탈퇴 처리 | profiles.status | O |

**추가 필요 화면 발견**:
- 프로필 이미지 크롭/편집
- 비밀번호 변경 (이메일 로그인 시)
- 연결된 SNS 계정 관리
- 내 여행 기록 목록
- 여행 기록 수정/삭제
- 내가 쓴 후기 목록
- 후기 수정/삭제
- 문의 내역 목록
- 문의 상세/답변 확인
- 앱 버전 정보
- 오픈소스 라이선스
- 회원탈퇴 주의사항 안내
- 회원탈퇴 사유 선택
- 탈퇴 완료 화면

**추가 필요 DB 테이블 발견**:
- `admin_notices` (관리자 공지사항)
- `faqs` (FAQ)
- `inquiries` (1:1 문의)

---

## 2. 인플루언서 시뮬레이션

### 시뮬레이션 1: 신규 인플루언서 등록 ~ 첫 코스 생성/운영

#### 1.1 인플루언서 등록

| 단계 | 사용자 행동 | 필요 화면 | 필요 기능/API | 필요 DB | 확인 |
|------|-------------|-----------|---------------|---------|------|
| 1 | 인플루언서 신청 페이지 진입 | 인플루언서 신청 화면 | - | - | O |
| 2 | 기본 정보 입력 | 정보 입력 폼 | - | - | O |
| 3 | SNS 계정 연동/인증 | SNS 인증 섹션 | 팔로워 수 확인 | - | O |
| 4 | 정산 계좌 정보 입력 | 계좌 정보 폼 | 계좌 유효성 검증 | - | O |
| 5 | 사업자등록증 첨부 (선택) | 파일 업로더 | Storage 업로드 | - | O |
| 6 | 신청서 제출 | 제출 확인 팝업 | 신청 저장 | influencer_profiles | O |
| 7 | 심사 대기 안내 | 심사 대기 화면 | - | - | O |
| 8 | 승인 알림 수신 | 푸시 알림 | - | notifications | O |
| 9 | 인플루언서 대시보드 진입 | 인플루언서 홈 화면 | - | - | O |

**추가 필요 화면 발견**:
- 인플루언서 이용약관 동의
- 수수료 안내 화면
- 신청 반려 시 사유 안내
- 재신청 화면
- 인플루언서 가이드라인 확인

#### 1.2 코스 생성

| 단계 | 사용자 행동 | 필요 화면 | 필요 기능/API | 필요 DB | 확인 |
|------|-------------|-----------|---------------|---------|------|
| 10 | [코스 생성하기] 클릭 | 코스 생성 - Step 1 | - | - | O |
| 11 | 기본 정보 입력 | 기본 정보 폼 | 입력 검증 | - | O |
| 12 | 썸네일 이미지 업로드 | 이미지 업로더 | Storage 업로드 | - | O |
| 13 | 추가 이미지 업로드 | 다중 이미지 업로더 | Storage 업로드 | - | O |
| 14 | [다음] 클릭 | - | - | - | O |
| 15 | 일정 입력 - Day 1 | 일정 입력 폼 | - | - | O |
| 16 | 항목 추가 (시간/내용/장소) | 항목 추가 UI | - | - | O |
| 17 | 구글맵 링크 입력 | 링크 입력 필드 | URL 검증 | - | O |
| 18 | Day 추가 | Day 추가 버튼 | - | - | O |
| 19 | 모든 일정 입력 완료 | - | - | - | O |
| 20 | [다음] 클릭 | - | - | - | O |
| 21 | 포함 사항 입력 | 체크박스/텍스트 입력 | - | - | O |
| 22 | 선택 사항 입력 | 선택 항목 추가 UI | - | - | O |
| 23 | [다음] 클릭 | - | - | - | O |
| 24 | 숙소 정보 입력 | 숙소 정보 폼 | - | - | O |
| 25 | 숙소 이미지 업로드 | 이미지 업로더 | Storage 업로드 | - | O |
| 26 | [다음] 클릭 | - | - | - | O |
| 27 | 미리보기 확인 | 코스 미리보기 화면 | - | - | O |
| 28 | 수정 필요시 이전 단계 이동 | 탭/단계 네비게이션 | - | - | O |
| 29 | [저장] 또는 [게시] | 저장/게시 확인 팝업 | 코스 저장 API | courses, course_days, course_day_items | O |
| 30 | 공유 링크 복사 | 링크 복사 버튼 | - | - | O |

**추가 필요 화면 발견**:
- 코스 생성 진행률 표시 (Step 1/5)
- 임시 저장 기능 및 알림
- 이미지 순서 변경 (드래그앤드롭)
- 일정 항목 순서 변경
- 일정 항목 복제 기능
- 포함/선택 사항 템플릿 제공
- 환불 정책 기본 템플릿
- 코스 미리보기 - 모바일/데스크톱 뷰 전환
- 코스 수정 시 변경사항 비교
- 게시 전 필수 항목 체크리스트

#### 1.3 신청자 관리 및 선정

| 단계 | 사용자 행동 | 필요 화면 | 필요 기능/API | 필요 DB | 확인 |
|------|-------------|-----------|---------------|---------|------|
| 31 | 신청자 알림 수신 | 푸시 알림 | - | notifications | O |
| 32 | 코스 관리 진입 | 코스 관리 화면 | - | courses | O |
| 33 | 신청자 리스트 확인 | 신청자 목록 화면 | 신청자 조회 | course_applications | O |
| 34 | 신청자 상세 정보 확인 | 신청자 카드/상세 | - | - | O |
| 35 | 인스타그램 링크 클릭 | 외부 앱 이동 | - | - | O |
| 36 | [선정] 버튼 클릭 | 선정 확인 팝업 | 선정 처리 | course_applications.status | O |
| 37 | [미선정] 버튼 클릭 | 미선정 확인 팝업 | 미선정 처리 | course_applications.status | O |
| 38 | 모집 마감 처리 | [선정 완료] 버튼 | 일괄 환불 처리 | payments | O |
| 39 | 미선정자 환불 처리 알림 | 환불 처리 상태 표시 | 자동 환불 API | - | O |
| 40 | 최종 참가자 목록 확인 | 확정 참가자 목록 | - | - | O |

**추가 필요 화면 발견**:
- 신청자 필터 (성별/나이/신청일)
- 신청자 정렬 (신청순/이름순)
- 선정 메모 기능 (내부용)
- 일괄 선정/미선정 기능
- 선정 인원 vs 최대 인원 표시
- 모집 마감 취소 기능
- 추가 모집 기능

#### 1.4 여행 진행 관리

| 단계 | 사용자 행동 | 필요 화면 | 필요 기능/API | 필요 DB | 확인 |
|------|-------------|-----------|---------------|---------|------|
| 41 | 공지사항 작성 | 공지 작성 화면 | 공지 저장 | course_announcements | O |
| 42 | 공지 이미지 첨부 | 이미지 업로더 | Storage 업로드 | - | O |
| 43 | 공지 발송 | 공지 등록 | 알림 발송 | notifications | O |
| 44 | 댓글 확인/답변 | 댓글 섹션 | 댓글 조회/작성 | announcement_comments | O |
| 45 | 경비 충전 요청 | 경비 충전 설정 화면 | 충전 요청 발송 | course_participants_expenses | O |
| 46 | 충전 금액 입력 | 금액 입력 UI | - | - | O |
| 47 | 참가자에게 요청 발송 | 발송 확인 팝업 | 알림 발송 | notifications | O |
| 48 | 충전 현황 확인 | 충전 현황 화면 | 충전 상태 조회 | expense_transactions | O |
| 49 | N빵 정산 추가 | N빵 정산 화면 | - | - | O |
| 50 | N빵 항목명 입력 | 텍스트 입력 | - | - | O |
| 51 | 총 금액 입력 | 금액 입력 | - | - | O |
| 52 | 참여자 선택 | 체크박스 목록 | - | - | O |
| 53 | 수수료 포함 옵션 선택 | 토글 UI | - | - | O |
| 54 | 1인당 금액 자동 계산 확인 | 계산 결과 표시 | - | - | O |
| 55 | N빵 정산 확정 | 확정 버튼 | N빵 처리 API | course_nbang_items, course_nbang_participants | O |
| 56 | 경비 차감 결과 확인 | 차감 결과 화면 | - | expense_transactions | O |
| 57 | 개별 메시지 발송 | 메시지 작성 화면 | 메시지 전송 | direct_messages | O |

**추가 필요 화면 발견**:
- 공지사항 수정/삭제
- 공지사항 고정/해제
- 경비 미충전 참가자 알림 재발송
- 경비 충전 독촉 메시지 템플릿
- N빵 정산 수정/취소
- N빵 정산 내역 목록
- 경비 부족 참가자 알림
- 참가자별 경비 상태 대시보드
- 긴급 공지 기능 (SMS 발송)

#### 1.5 여행 종료 및 정산

| 단계 | 사용자 행동 | 필요 화면 | 필요 기능/API | 필요 DB | 확인 |
|------|-------------|-----------|---------------|---------|------|
| 58 | 여행 완료 처리 | [여행 완료] 버튼 | 상태 업데이트 | courses.status | O |
| 59 | 참가자 잔액 환불 처리 | 환불 처리 화면 | 잔액 환불 API | expense_transactions | O |
| 60 | 정산 예정 금액 확인 | 정산 예정 화면 | 정산 계산 | settlements | O |
| 61 | 정산 상세 내역 확인 | 정산 상세 화면 | - | - | O |
| 62 | 여행 기록 작성 | 여행 기록 화면 | - | travel_records | O |
| 63 | 후기 확인 | 받은 후기 목록 | 후기 조회 | reviews | O |
| 64 | 정산 완료 알림 수신 | 푸시 알림 | - | notifications | O |
| 65 | 정산 내역 확인 | 정산 완료 화면 | - | settlements | O |

**추가 필요 화면 발견**:
- 정산 예정일 안내
- 정산 수수료 상세 (플랫폼 + PG)
- 정산 계좌 확인/변경
- 세금계산서 발행 요청
- 정산 이력 목록
- 월별 정산 요약
- 누적 수익 대시보드

---

### 시뮬레이션 2: 파티 개설 및 운영

| 단계 | 사용자 행동 | 필요 화면 | 필요 기능/API | 필요 DB | 확인 |
|------|-------------|-----------|---------------|---------|------|
| 1 | [파티 개설] 클릭 | 파티 생성 화면 | - | - | O |
| 2 | 파티 정보 입력 | 파티 생성 폼 | 입력 검증 | - | O |
| 3 | 장소 정보 입력 | 장소 입력 필드 | - | - | O |
| 4 | 날짜/시간 선택 | 날짜/시간 피커 | - | - | O |
| 5 | 파티 이미지 업로드 | 이미지 업로더 | Storage 업로드 | - | O |
| 6 | 파티 게시 | 게시 확인 팝업 | 파티 저장 | parties | O |
| 7 | 링크 공유 | 링크 복사 | - | - | O |
| 8 | 신청자 관리 | 신청자 목록 | 신청자 조회 | party_applications | O |
| 9 | 선정/미선정 처리 | 선정 버튼 | 선정 처리 | - | O |
| 10 | 파티 종료 처리 | 완료 버튼 | 상태 업데이트 | parties.status | O |
| 11 | 정산 확인 | 정산 화면 | - | settlements | O |

**추가 필요 화면 발견**:
- 파티 수정/삭제
- 파티 취소 및 전체 환불 처리
- 파티 참가자에게 단체 메시지

---

### 시뮬레이션 3: 대시보드 및 설정 관리

| 단계 | 사용자 행동 | 필요 화면 | 필요 기능/API | 필요 DB | 확인 |
|------|-------------|-----------|---------------|---------|------|
| 1 | 대시보드 진입 | 인플루언서 대시보드 | 통계 조회 | - | O |
| 2 | 이번 달 수익 확인 | 수익 요약 카드 | - | settlements | O |
| 3 | 진행 중 코스/파티 현황 | 현황 카드 | - | courses, parties | O |
| 4 | 코스 목록 관리 | 내 코스 목록 | 코스 조회 | courses | O |
| 5 | 코스 수정 | 코스 수정 화면 | 코스 업데이트 | courses | O |
| 6 | 코스 삭제/비공개 | 삭제 확인 팝업 | - | courses.status | O |
| 7 | 프로필 수정 | 인플루언서 프로필 수정 | 프로필 업데이트 | influencer_profiles | O |
| 8 | 정산 계좌 변경 | 계좌 변경 화면 | 계좌 업데이트 | influencer_profiles | O |
| 9 | 수수료 확인 | 수수료 안내 화면 | 수수료 조회 | admin_settings | O |
| 10 | 받은 후기 관리 | 후기 목록 | 후기 조회 | reviews | O |
| 11 | 부적절 후기 신고 | 신고 버튼 | 신고 등록 | reports | O |
| 12 | 정산 이력 조회 | 정산 이력 화면 | 정산 조회 | settlements | O |
| 13 | 세금계산서 내역 | 세금계산서 목록 | - | - | O |

**추가 필요 화면 발견**:
- 인플루언서 알림 설정
- 활동 일시 중지 기능
- 인플루언서 탈퇴
- 예약/일정 캘린더 뷰
- 통계 상세 (기간별, 코스별)

---

## 3. 관리자 시뮬레이션

### 시뮬레이션 1: 인플루언서 심사 및 관리

| 단계 | 사용자 행동 | 필요 화면 | 필요 기능/API | 필요 DB | 확인 |
|------|-------------|-----------|---------------|---------|------|
| 1 | 어드민 로그인 | 어드민 로그인 화면 | 관리자 인증 | profiles.role | O |
| 2 | 대시보드 확인 | 어드민 대시보드 | 통계 조회 | - | O |
| 3 | 인플루언서 신청 목록 | 신청 대기 목록 | 신청 조회 | influencer_profiles | O |
| 4 | 신청 상세 확인 | 신청 상세 화면 | - | - | O |
| 5 | SNS 확인 (외부) | 외부 링크 이동 | - | - | O |
| 6 | 승인 처리 | [승인] 버튼 | 상태 업데이트 | verification_status | O |
| 7 | 승인 알림 발송 | 알림 발송 확인 | 알림 API | notifications | O |
| 8 | 반려 처리 | [반려] 버튼 | 상태 업데이트 | verification_status | O |
| 9 | 반려 사유 입력 | 사유 입력 팝업 | - | - | O |
| 10 | 인플루언서 목록 관리 | 인플루언서 목록 | 목록 조회 | influencer_profiles | O |
| 11 | 인플루언서 상세 확인 | 인플루언서 상세 | - | - | O |
| 12 | 개별 수수료 설정 | 수수료 설정 팝업 | 수수료 업데이트 | custom_fee_rate | O |
| 13 | 인플루언서 정지 처리 | [정지] 버튼 | 상태 업데이트 | profiles.status | O |
| 14 | 추천 인플루언서 설정 | [추천] 토글 | 상태 업데이트 | is_featured | O |

**추가 필요 화면 발견**:
- 인플루언서 검색/필터
- 인플루언서 활동 내역 (코스/파티 이력)
- 인플루언서 정산 이력 조회
- 인플루언서 후기/평점 조회
- 인플루언서 메모 기능
- 인플루언서 일괄 작업

---

### 시뮬레이션 2: 결제/정산 관리

| 단계 | 사용자 행동 | 필요 화면 | 필요 기능/API | 필요 DB | 확인 |
|------|-------------|-----------|---------------|---------|------|
| 1 | 결제 내역 진입 | 결제 내역 화면 | 결제 조회 | payments | O |
| 2 | 기간 필터 설정 | 날짜 범위 선택 | - | - | O |
| 3 | 결제 유형 필터 | 유형 선택 | - | - | O |
| 4 | 결제 상세 확인 | 결제 상세 화면 | - | - | O |
| 5 | 수동 환불 처리 | [환불] 버튼 | 환불 API | payments | O |
| 6 | 환불 사유 입력 | 사유 입력 팝업 | - | - | O |
| 7 | 환불 완료 확인 | 환불 완료 표시 | - | - | O |
| 8 | 정산 대기 목록 | 정산 대기 화면 | 정산 조회 | settlements | O |
| 9 | 정산 상세 확인 | 정산 상세 화면 | - | - | O |
| 10 | 정산 금액 검증 | 수수료 계산 확인 | - | - | O |
| 11 | 정산 승인 | [정산 승인] 버튼 | 정산 처리 | settlements.status | O |
| 12 | 정산 계좌 확인 | 계좌 정보 표시 | - | - | O |
| 13 | 지급 완료 처리 | [지급 완료] 버튼 | 상태 업데이트 | settlements.completed_at | O |
| 14 | 세금계산서 발행 | 발행 버튼 | - | - | O |
| 15 | 정산 완료 알림 | 알림 발송 | 알림 API | notifications | O |
| 16 | 월간 정산 리포트 | 리포트 화면 | 집계 조회 | - | O |
| 17 | 리포트 다운로드 | 엑셀 다운로드 | 엑셀 생성 | - | O |

**추가 필요 화면 발견**:
- 결제 검색 (사용자명, 결제번호)
- 결제 오류 내역
- 부분 환불 처리
- 정산 보류 처리
- 정산 메모 기능
- 일괄 정산 처리
- 정산 스케줄 설정
- 자동 정산 설정

---

### 시뮬레이션 3: 시스템 설정 및 모니터링

| 단계 | 사용자 행동 | 필요 화면 | 필요 기능/API | 필요 DB | 확인 |
|------|-------------|-----------|---------------|---------|------|
| 1 | 수수료 설정 진입 | 수수료 설정 화면 | 설정 조회 | admin_settings | O |
| 2 | 기본 코스 수수료 변경 | 수수료 입력 | 설정 업데이트 | admin_settings | O |
| 3 | 기본 파티 수수료 변경 | 수수료 입력 | 설정 업데이트 | admin_settings | O |
| 4 | PG 수수료 설정 | 수수료 입력 | 설정 업데이트 | admin_settings | O |
| 5 | 수수료 변경 이력 확인 | 변경 이력 화면 | 이력 조회 | fee_history | O |
| 6 | 유저 관리 진입 | 유저 목록 화면 | 유저 조회 | profiles | O |
| 7 | 유저 검색 | 검색 UI | - | - | O |
| 8 | 유저 상세 확인 | 유저 상세 화면 | - | - | O |
| 9 | 유저 정지 처리 | [정지] 버튼 | 상태 업데이트 | profiles.status | O |
| 10 | 코스/파티 관리 | 코스 목록 화면 | 목록 조회 | courses, parties | O |
| 11 | 문제 코스 비공개 처리 | [비공개] 버튼 | 상태 업데이트 | courses.visibility | O |
| 12 | 후기 관리 | 후기 목록 화면 | 후기 조회 | reviews | O |
| 13 | 후기 블라인드 처리 | [블라인드] 버튼 | 상태 업데이트 | reviews.status | O |
| 14 | 신고 관리 | 신고 목록 화면 | 신고 조회 | reports | O |
| 15 | 신고 상세 확인 | 신고 상세 화면 | - | - | O |
| 16 | 신고 처리 (조치/기각) | 처리 버튼 | 상태 업데이트 | reports.status | O |
| 17 | 처리 결과 알림 | 알림 발송 | 알림 API | notifications | O |
| 18 | 공지사항 관리 | 공지사항 목록 | 공지 조회 | admin_notices | O |
| 19 | 공지사항 작성 | 공지 작성 화면 | 공지 저장 | admin_notices | O |
| 20 | FAQ 관리 | FAQ 목록 | FAQ 조회 | faqs | O |
| 21 | FAQ 추가/수정 | FAQ 편집 화면 | FAQ 저장 | faqs | O |
| 22 | 1:1 문의 관리 | 문의 목록 화면 | 문의 조회 | inquiries | O |
| 23 | 문의 답변 작성 | 답변 작성 화면 | 답변 저장 | inquiries | O |
| 24 | 통계 대시보드 | 통계 화면 | 통계 조회 | - | O |
| 25 | 일별/주별/월별 통계 | 차트 UI | - | - | O |
| 26 | 시스템 로그 확인 | 로그 화면 | 로그 조회 | - | O |

**추가 필요 화면 발견**:
- 약관 관리 (버전 관리)
- 이메일 템플릿 관리
- SMS 템플릿 관리
- 푸시 알림 템플릿 관리
- 배너 관리
- 팝업 공지 관리
- 앱 버전 관리
- 시스템 설정 (점검 모드 등)
- 관리자 계정 관리
- 관리자 활동 로그
- 데이터 백업 관리
- 통계 데이터 내보내기

---

## 4. 검증 결과 요약

### 4.1 추가 필요 DB 테이블

시뮬레이션을 통해 발견된 추가 필요 테이블:

| 테이블명 | 용도 |
|----------|------|
| `admin_notices` | 관리자 공지사항 |
| `faqs` | 자주 묻는 질문 |
| `inquiries` | 1:1 문의 |
| `inquiry_answers` | 문의 답변 |
| `terms` | 이용약관 (버전 관리) |
| `banners` | 배너 관리 |
| `popup_notices` | 팝업 공지 |
| `admin_logs` | 관리자 활동 로그 |
| `email_templates` | 이메일 템플릿 |
| `sms_templates` | SMS 템플릿 |

### 4.2 추가 필요 기능 요약

| 카테고리 | 기능 |
|----------|------|
| **인증** | 이메일 로그인 (카카오 외), 비밀번호 재설정 |
| **공통** | 앱 업데이트 안내, 점검 모드 |
| **유저** | 여행 기록 공유, 찜하기/북마크 |
| **인플루언서** | 임시저장, 코스 복제, 일정 템플릿 |
| **결제** | 부분 환불, 결제 오류 재시도 |
| **관리자** | 일괄 처리, 자동화 설정, 통계 내보내기 |

### 4.3 필수 팝업/모달 목록

총 50+ 개의 팝업/모달 화면이 필요:

- 확인/취소 팝업류 (20+개)
- 안내 팝업류 (15+개)
- 입력 팝업류 (10+개)
- 에러/경고 팝업류 (10+개)

### 4.4 누락 방지 체크리스트

각 역할별 3회 시뮬레이션 완료:

- [x] 유저 시뮬레이션 1: 신규 가입 ~ 여행 완료
- [x] 유저 시뮬레이션 2: 파티 참가
- [x] 유저 시뮬레이션 3: 마이페이지/설정
- [x] 인플루언서 시뮬레이션 1: 등록 ~ 코스 운영
- [x] 인플루언서 시뮬레이션 2: 파티 운영
- [x] 인플루언서 시뮬레이션 3: 대시보드/설정
- [x] 관리자 시뮬레이션 1: 인플루언서 관리
- [x] 관리자 시뮬레이션 2: 결제/정산 관리
- [x] 관리자 시뮬레이션 3: 시스템 설정

---

## 5. 결론

3x3 = 9회의 가상 시뮬레이션을 통해 다음을 검증했습니다:

1. **화면 검증**: 총 150+ 개 화면 식별
2. **기능 검증**: 모든 사용자 여정의 기능 커버리지 확인
3. **DB 검증**: 필요 테이블 및 필드 완전성 확인
4. **API 검증**: 모든 기능에 필요한 API 엔드포인트 식별

이 검증 결과를 바탕으로 화면명세서와 API 명세서를 작성하면 개발 시 누락을 방지할 수 있습니다.
